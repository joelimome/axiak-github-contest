<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Armadillo Technical: gemv&lt; do_trans_A, use_alpha, use_beta &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>gemv&lt; do_trans_A, use_alpha, use_beta &gt; Class Template Reference<br>
<small>
[<a class="el" href="a00527.html">Gemv</a>]</small>
</h1><!-- doxytag: class="gemv" -->Wrapper for ATLAS/BLAS <a class="el" href="a00048.html" title="Wrapper for ATLAS/BLAS gemv function, using template arguments to control the arguments...">gemv</a> function, using template arguments to control the arguments passed to <a class="el" href="a00048.html" title="Wrapper for ATLAS/BLAS gemv function, using template arguments to control the arguments...">gemv</a>. 'y' is assumed to have been set to the correct size (i.e. taking into account the transpose).  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="a00636.html">gemv.hpp</a>&gt;</code>
<p>

<p>
<a href="a00763.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename eT &gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00048.html#9a2d50436428369cabffe43a69d498a1">apply</a> (eT *y, const <a class="el" href="a00140.html">Mat</a>&lt; eT &gt; &amp;A, const eT *x, const eT alpha=eT(1), const eT beta=eT(0))</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;const bool do_trans_A = false, const bool use_alpha = false, const bool use_beta = false&gt;<br>
 class gemv&lt; do_trans_A, use_alpha, use_beta &gt;</h3>

Wrapper for ATLAS/BLAS <a class="el" href="a00048.html" title="Wrapper for ATLAS/BLAS gemv function, using template arguments to control the arguments...">gemv</a> function, using template arguments to control the arguments passed to <a class="el" href="a00048.html" title="Wrapper for ATLAS/BLAS gemv function, using template arguments to control the arguments...">gemv</a>. 'y' is assumed to have been set to the correct size (i.e. taking into account the transpose). 
<p>Definition at line <a class="el" href="a00636.html#l00121">121</a> of file <a class="el" href="a00636.html">gemv.hpp</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="9a2d50436428369cabffe43a69d498a1"></a><!-- doxytag: member="gemv::apply" ref="9a2d50436428369cabffe43a69d498a1" args="(eT *y, const Mat&lt; eT &gt; &amp;A, const eT *x, const eT alpha=eT(1), const eT beta=eT(0))" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;const bool do_trans_A = false, const bool use_alpha = false, const bool use_beta = false&gt; </div>
<div class="memtemplate">
template&lt;typename eT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="a00048.html">gemv</a>&lt; do_trans_A, use_alpha, use_beta &gt;::apply           </td>
          <td>(</td>
          <td class="paramtype">eT *&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00140.html">Mat</a>&lt; eT &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const eT *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const eT&nbsp;</td>
          <td class="paramname"> <em>alpha</em> = <code>eT(1)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const eT&nbsp;</td>
          <td class="paramname"> <em>beta</em> = <code>eT(0)</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00636.html#l00129">129</a> of file <a class="el" href="a00636.html">gemv.hpp</a>.</p>

<p>References <a class="el" href="a00654.html#l00037">Mat&lt; eT &gt;::mem</a>, <a class="el" href="a00654.html#l00034">Mat&lt; eT &gt;::n_cols</a>, <a class="el" href="a00654.html#l00035">Mat&lt; eT &gt;::n_elem</a>, and <a class="el" href="a00654.html#l00033">Mat&lt; eT &gt;::n_rows</a>.</p>

<p>Referenced by <a class="el" href="a00643.html#l00448">glue_plus::apply()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00130"></a>00130     {
<a name="l00131"></a>00131     arma_extra_debug_sigprint();
<a name="l00132"></a>00132     
<a name="l00133"></a>00133     <span class="keywordflow">if</span>( (A.<a class="code" href="a00140.html#b12257afbbe6338a7af830d9b65f3305" title="number of elements in the matrix (read-only)">n_elem</a> &lt;= 256u) || (<a class="code" href="a00104.html">is_supported_blas_type&lt;eT&gt;::value</a> == <span class="keyword">false</span>) )
<a name="l00134"></a>00134      {
<a name="l00135"></a>00135      <a class="code" href="a00048.html#9a2d50436428369cabffe43a69d498a1">gemv_arma&lt;do_trans_A, use_alpha, use_beta&gt;::apply</a>(y,A,x,alpha,beta);
<a name="l00136"></a>00136      }
<a name="l00137"></a>00137     <span class="keywordflow">else</span>
<a name="l00138"></a>00138       {
<a name="l00139"></a>00139 <span class="preprocessor">      #if defined(ARMA_USE_ATLAS)</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span>        {
<a name="l00141"></a>00141         arma_extra_debug_print(<span class="stringliteral">"atlas::cblas_gemv()"</span>);
<a name="l00142"></a>00142         
<a name="l00143"></a>00143         atlas::cblas_gemv&lt;eT&gt;
<a name="l00144"></a>00144           (
<a name="l00145"></a>00145           atlas::CblasColMajor,
<a name="l00146"></a>00146           (do_trans_A) ? atlas::CblasTrans : atlas::CblasNoTrans,
<a name="l00147"></a>00147           A.<a class="code" href="a00140.html#aa8c7e5e59361913b15ae55f714ca6c6" title="number of rows in the matrix (read-only)">n_rows</a>,
<a name="l00148"></a>00148           A.<a class="code" href="a00140.html#163bed70780a1d181594d126295d5a09" title="number of columns in the matrix (read-only)">n_cols</a>,
<a name="l00149"></a>00149           (use_alpha) ? alpha : eT(1),
<a name="l00150"></a>00150           A.<a class="code" href="a00140.html#14a6badc8098d810e5decb22272a07b0" title="pointer to memory used by the matrix (memory is read-only)">mem</a>,
<a name="l00151"></a>00151           A.<a class="code" href="a00140.html#aa8c7e5e59361913b15ae55f714ca6c6" title="number of rows in the matrix (read-only)">n_rows</a>,
<a name="l00152"></a>00152           x,
<a name="l00153"></a>00153           1,
<a name="l00154"></a>00154           (use_beta) ? beta : eT(0),
<a name="l00155"></a>00155           y,
<a name="l00156"></a>00156           1
<a name="l00157"></a>00157           );
<a name="l00158"></a>00158         }
<a name="l00159"></a>00159 <span class="preprocessor">      #elif defined(ARMA_USE_BLAS)</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span>        {
<a name="l00161"></a>00161         arma_extra_debug_print(<span class="stringliteral">"blas::gemv_()"</span>);
<a name="l00162"></a>00162         
<a name="l00163"></a>00163         <span class="keyword">const</span> <span class="keywordtype">char</span> trans_A     = (do_trans_A) ? <span class="charliteral">'T'</span> : <span class="charliteral">'N'</span>;
<a name="l00164"></a>00164         <span class="keyword">const</span> <span class="keywordtype">int</span>  m           = A.<a class="code" href="a00140.html#aa8c7e5e59361913b15ae55f714ca6c6" title="number of rows in the matrix (read-only)">n_rows</a>;
<a name="l00165"></a>00165         <span class="keyword">const</span> <span class="keywordtype">int</span>  n           = A.<a class="code" href="a00140.html#163bed70780a1d181594d126295d5a09" title="number of columns in the matrix (read-only)">n_cols</a>;
<a name="l00166"></a>00166         <span class="keyword">const</span> eT   local_alpha = (use_alpha) ? alpha : eT(1);
<a name="l00167"></a>00167         <span class="comment">//const int  lda         = A.n_rows;</span>
<a name="l00168"></a>00168         <span class="keyword">const</span> <span class="keywordtype">int</span>  inc         = 1;
<a name="l00169"></a>00169         <span class="keyword">const</span> eT   local_beta  = (use_beta) ? beta : eT(0);
<a name="l00170"></a>00170         
<a name="l00171"></a>00171         arma_extra_debug_print( <a class="code" href="a00039.html">arma_boost::format</a>(<span class="stringliteral">"blas::gemv_(): trans_A = %c"</span>) % trans_A );
<a name="l00172"></a>00172 
<a name="l00173"></a>00173         blas::gemv_&lt;eT&gt;
<a name="l00174"></a>00174           (
<a name="l00175"></a>00175           &amp;trans_A,
<a name="l00176"></a>00176           &amp;m,
<a name="l00177"></a>00177           &amp;n,
<a name="l00178"></a>00178           &amp;local_alpha,
<a name="l00179"></a>00179           A.<a class="code" href="a00140.html#14a6badc8098d810e5decb22272a07b0" title="pointer to memory used by the matrix (memory is read-only)">mem</a>,
<a name="l00180"></a>00180           &amp;m,  <span class="comment">// lda</span>
<a name="l00181"></a>00181           x,
<a name="l00182"></a>00182           &amp;inc,
<a name="l00183"></a>00183           &amp;local_beta,
<a name="l00184"></a>00184           y,
<a name="l00185"></a>00185           &amp;inc
<a name="l00186"></a>00186           );
<a name="l00187"></a>00187         }
<a name="l00188"></a>00188 <span class="preprocessor">      #else</span>
<a name="l00189"></a>00189 <span class="preprocessor"></span>        {
<a name="l00190"></a>00190         <a class="code" href="a00048.html#9a2d50436428369cabffe43a69d498a1">gemv_arma&lt;do_trans_A, use_alpha, use_beta&gt;::apply</a>(y,A,x,alpha,beta);
<a name="l00191"></a>00191         }
<a name="l00192"></a>00192 <span class="preprocessor">      #endif</span>
<a name="l00193"></a>00193 <span class="preprocessor"></span>      }
<a name="l00194"></a>00194     
<a name="l00195"></a>00195     }
</pre></div>
<p>

</div>
</div><p>
</div>
</BODY>
</HTML>
